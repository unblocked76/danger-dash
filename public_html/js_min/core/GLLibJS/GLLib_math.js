(function(V,l){window.s_math_F_1=1<<GLLibConfig.math_fixedPointBase;window.s_math_F_05=(s_math_F_1>>1);var S=null;var k=0;var j=0;var i=0;var h=0;var G=0;var x=-1;var C=1;var m=0;var f=0;var P=null;var Z=null;var J=0;window.s_math_bezierY=0;var F=0;var A=null;var aa=null;var T=null;var ac=1<<GLLibConfig.math_angleFixedPointBase;window.Math_Angle90=E(90);var ab=E(180);var e=E(270);var r=E(360);var o=0;var ag=1;var n=2;var ad=3;var y=1686629713>>(29-GLLibConfig.math_fixedPointBase);var v=1459366444>>(29-GLLibConfig.math_fixedPointBase);var O=U(180<<GLLibConfig.math_fixedPointBase,y);var W=U(1<<GLLibConfig.math_angleFixedPointBase,360);var ai=0;var K=(1<<1);var N=(1<<2);var t=LowAPI.Gen_Array([2,2],0);function b(am,al,ak){if(!(am!=null)){Assert(false,"Math_Init.packName is null")}var aj;Pack_Open(am);if(al>=0){A=Pack_ReadArray(al)}else{A=null}if(ak>=0){aa=Pack_ReadArray(ak)}else{aa=null}Pack_Close()}function I(aj){if(GLLibConfig.math_fixedPointBase>GLLibConfig.math_angleFixedPointBase){return aj<<(GLLibConfig.math_fixedPointBase-GLLibConfig.math_angleFixedPointBase)}else{if(GLLibConfig.math_fixedPointBase<GLLibConfig.math_angleFixedPointBase){return aj>>(GLLibConfig.math_angleFixedPointBase-GLLibConfig.math_fixedPointBase)}else{return aj}}}function p(aj){return aj<<GLLibConfig.math_fixedPointBase}function s(aj){return((aj+(1<<(GLLibConfig.math_fixedPointBase-1)))>>GLLibConfig.math_fixedPointBase)}function g(aj,ao,ak){var an=(aj*aj+ao*ao);var al=1;for(var am=0;am<ak;am++){al=LowAPI.Float2Int((al+an/al))>>1}return al}function D(aj){if(S==null){S=new Random(aj)}else{S.setSeed(aj)}}function Y(){if(arguments){switch(arguments.length){case 0:return B.apply(this,arguments);case 2:return z.apply(this,arguments)}}throw new Error("InvalidArguments")}function z(ak,aj){if(!(S!=null)){Assert(false,"Math_Rand.GLLib mut be initialised prior to using this function")}if(!(ak<=aj)){Assert(false,"Math_Rand.a must be <= b")}var al;if(aj!=ak){al=S.nextInt();if(al<0){al*=-1}return(ak+(al%(aj-ak)))}return aj}function B(){if(!(S!=null)){Assert(false,"Math_Rand.GLLib mut be initialised prior to using this function")}return S.nextInt()}function E(aj){return LowAPI.Float2Int(aj*ac/360)}function ah(aj){return((aj*360)>>GLLibConfig.math_angleFixedPointBase)}function H(aj){if(!(A!=null)){Assert(false,"!!ERROR!! Math_Sin.s_math_cosTable is null, call Math_Init first")}return w(Math_Angle90-aj)}function w(aj){if(!(A!=null)){Assert(false,"!!ERROR!! Math_Cos.s_math_cosTable is null, call Math_Init first")}if(aj<0){aj*=-1}aj&=(r-1);if(aj<=Math_Angle90){return A[aj]}else{if(aj<ab){aj=ab-aj;return -A[aj]}else{if(aj<=e){aj=aj-ab;return -A[aj]}else{aj=r-aj;return A[aj]}}}}function d(ak){if(!(A!=null)){Assert(false,"!!ERROR!! Math_Tan.s_math_cosTable is null, call Math_Init first")}var aj=w(ak);if(aj==0){return(2147483647).castToInt()}return LowAPI.Float2Int(p(H(ak))/aj)}function u(al,ak,aj){if(typeof aj!="undefined"){return a(al,ak,aj)}else{if(typeof ak!="undefined"){return c(al,ak)}else{throw new Error("Invalid parameters")}}}function a(al,aj,am){var ak=(al+aj)>>1;while((al+1)<aj){ak=(al+aj)>>1;if(am>d(ak)){al=ak}else{aj=ak}}if(am>=d(aj)){return aj}else{return al}}function c(ak,aj){if(ak>0){if(aj>0){return u(0,Math_Angle90,LowAPI.Float2Int((aj*s_math_F_1)/ak))}else{if(aj==0){return 0}else{return u(e,r,LowAPI.Float2Int((aj*s_math_F_1)/ak))}}}else{if(ak==0){if(aj>0){return Math_Angle90}else{if(aj==0){return 0}else{return e}}}else{if(aj>0){return u(Math_Angle90,ab,LowAPI.Float2Int((aj*s_math_F_1)/ak))}else{if(aj==0){return ab}else{return u(ab,e,LowAPI.Float2Int((aj*s_math_F_1)/ak))}}}}}function Q(al,ak){if(GLLibConfig.math_AtanUseCacheTable){if(T==null){T=[];for(var am=0;am<s_math_F_1+1;am++){T[am]=u(s_math_F_1,am)}}if(al==0){if(ak>0){return Math_Angle90}else{if(ak==0){return 0}else{return e}}}var aj;if(al>0){if(ak>=0){if(al>=ak){aj=LowAPI.Float2Int(ak*s_math_F_1/al);return T[aj]}else{aj=LowAPI.Float2Int(al*s_math_F_1/ak);return Math_Angle90-T[aj]}}else{ak*=-1;if(al>=ak){aj=LowAPI.Float2Int(ak*s_math_F_1/al);return r-T[aj]}else{aj=LowAPI.Float2Int(al*s_math_F_1/ak);return e+T[aj]}}}else{al*=-1;if(ak>=0){if(al>=ak){aj=LowAPI.Float2Int(ak*s_math_F_1/al);return ab-T[aj]}else{aj=LowAPI.Float2Int(al*s_math_F_1/ak);return Math_Angle90+T[aj]}}else{ak*=-1;if(al>=ak){aj=LowAPI.Float2Int(ak*s_math_F_1/al);return ab+T[aj]}else{aj=LowAPI.Float2Int(al*s_math_F_1/ak);return e-T[aj]}}}}else{return u(al,ak)}}function L(ao,an,am,ak,al,aj){return LowAPI.Float2Int((ao*al+2*an*ak+am*aj)/(1<<(GLLibConfig.math_fixedPointBase*2)))}function R(al,ap,ak,ao,aj,an,ar){var al=LowAPI.Float2Int(al);var ap=LowAPI.Float2Int(ap);var ak=LowAPI.Float2Int(ak);var ao=LowAPI.Float2Int(ao);var aj=LowAPI.Float2Int(aj);var an=LowAPI.Float2Int(an);var ar=LowAPI.Float2Int(ar);var at,am,aq;aq=ar*ar;at=s_math_F_1-ar;am=at*at;at*=ar;J=L(al,ak,aj,at,am,aq);s_math_bezierY=L(ap,ao,an,at,am,aq)}function M(al,ak){var aj=al.castToLong()-ak.castToLong();if(!(aj>=Integer.MIN_VALUE)){Assert(false,"Math_FixedPoint_Add(): Multiplication Integer Overflow")}return aj.castToInt()}function af(ak,al){var aj=((ak.castToLong()*al.castToLong())+(s_math_F_1>>1))>>GLLibConfig.math_fixedPointBase;if(!(aj<=Integer.MAX_VALUE)){Assert(false,"Math_FixedPoint_Multiply(): Multiplication Integer Overflow")}return aj.castToInt()}function U(aj,ak){if(!(ak!=0)){Assert(false,"Math_FixedPoint_Divide(): Division by Zero")}return LowAPI.Float2Int(((aj.castToLong()<<GLLibConfig.math_fixedPointBase<<1)/(ak))+1).castToInt()>>1}function ae(aj){return Math.abs(aj)}function X(ak,aj){return Math.max(ak,aj)}function q(ak,aj){return Math.min(ak,aj)}LowAPI.extendObject(V,{Math_Init:b,Math_FixedPointAdjust:I,Math_IntToFixedPoint:p,Math_FixedPointToInt:s,Math_Norm:g,Math_RandSetSeed:D,Math_Rand:Y,Math_DegreeToFixedPointAngle:E,Math_FixedPointAngleToDegree:ah,Math_Sin:H,Math_Cos:w,Math_Tan:d,Math_Atan:Q,Math_Bezier2D:R,Math_FixedPoint_Subtract:M,Math_FixedPoint_Multiply:af,Math_FixedPoint_Divide:U,Math_Abs:ae,Math_Max:X,Math_Min:q,},true)})(window);