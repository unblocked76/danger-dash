(function(O,E){var G=1;var az=2;var b=4;var k=8;var p=16;var ap=32;var aq=0;var ao=1;var aw=0;var ax=5;var I=3;var V=6;var am=2;var F=7;var aA=1;var c=4;function l(aI,aH,aG,aF){if(aF!=E){return P(aI,aH,aG,aF)}else{if(aG!=E){return Q(aI,aH,aG)}else{if(aH!=E){return R(aI,aH)}else{if(aI!=E){return S(aI)}}}}throw new Error("InvalidArguments")}function S(aF){g.setColor(aF)}function an(aF){g.setARGBColor(aF)}function Q(aG,aF,aH){g.setColor(4278190080|(aG<<16)|(aF<<8)|(aH))}function R(aF,aG){if(!(aF!=null)){Assert(false,"setColor: Graphics parameter is null!")}aF.setColor(aG)}function P(aG,aI,aH,aF){if(!(aG!=null)){Assert(false,"setColor: Graphics parameter is null!")}if(!(aI<=255)){Assert(false,"setColor. red is bigger than 0xFF")}if(!(aH<=255)){Assert(false,"setColor. green is bigger than 0xFF")}if(!(aF<=255)){Assert(false,"setColor. blue is bigger than 0xFF")}aG.setColor((aI<<16)|(aH<<8)|aF)}function U(aG,aF){if(aF!=E){return m(aG,aF)}else{if(aG!=E){return n(aG)}else{return o()}}}function o(){return U(g)}function T(aG,aF){if(aF!=E){return f(aG,aF)}else{if(aG!=E){return h(aG)}else{return i()}}}function i(){return T(g)}function X(aG,aF){if(aF!=E){return aa(aG,aF)}else{if(aG!=E){return ac(aG)}else{return ad()}}}function ad(){return X(g)}function aj(aG,aF){if(aF!=E){return q(aG,aF)}else{if(aG!=E){return r(aG)}else{return s()}}}function s(){return aj(g)}function ar(aI,aH,aG,aF,aK,aJ){if(aJ!=E){return x(aI,aH,aG,aF,aK,aJ)}else{if(aK!=E){return z(aI,aH,aG,aF,aK)}else{if(aF!=E){return A(aI,aH,aG,aF)}}}throw new Error("InvalidArguments")}function A(aG,aI,aH,aF){ar(g,aG,aI,aH,aF)}function n(aF){return U(aF,true)}function m(aF,aG){if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){if(GLLibConfig.landscape_useRotatedModules&&aG){return ASprite._customGraphicsClipY}else{return ASprite._customGraphicsClipX}}else{if(GLLibConfig.landscape_useRotatedModules&&aG){return aF.getClipY()}else{return aF.getClipX()}}}function h(aF){return T(aF,true)}function f(aF,aG){if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){if(GLLibConfig.landscape_useRotatedModules&&aG){return(GetGraphicsHeight()-ASprite._customGraphicsClipX-ASprite._customGraphicsClipW)}else{return ASprite._customGraphicsClipY}}else{if(GLLibConfig.landscape_useRotatedModules&&aG){return(GetGraphicsHeight()-aF.getClipX()-aF.getClipWidth())}else{return aF.getClipY()}}}function ac(aF){return X(aF,true)}function aa(aF,aG){if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){if(GLLibConfig.landscape_useRotatedModules&&aG){return ASprite._customGraphicsClipH}else{return ASprite._customGraphicsClipW}}else{if(GLLibConfig.landscape_useRotatedModules&&aG){return aF.getClipHeight()}else{return aF.getClipWidth()}}}function r(aF){return aj(aF,true)}function q(aF,aG){if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){if(GLLibConfig.landscape_useRotatedModules&&aG){return ASprite._customGraphicsClipW}else{return ASprite._customGraphicsClipH}}else{if(GLLibConfig.landscape_useRotatedModules&&aG){return aF.getClipWidth()}else{return aF.getClipHeight()}}}function z(aI,aG,aJ,aH,aF){ar(aI,aG,aJ,aH,aF,true)}function x(aI,aG,aL,aH,aF,aK){if(GLLibConfig.landscape_useRotatedModules&&aK){var aJ=aG;aG=GetGraphicsHeight()-aL-aF;aL=aJ;aJ=aH;aH=aF;aF=aJ}if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){ASprite._customGraphicsClipX=aG;ASprite._customGraphicsClipY=aL;ASprite._customGraphicsClipW=aH;ASprite._customGraphicsClipH=aF}else{aI.setClip(aG,aL,aH,aF);if(GLLibConfig.useNokiaS60SetClipBugfix){aI.clipRect(aG,aL,aH,aF)}}}function Y(aF){if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){return true}else{return(aF!=null)}}function J(){if(arguments){switch(arguments.length){case 4:return a.apply(this,arguments);case 5:if(typeof arguments[0]=="number"){return af.apply(this,arguments)}else{return ae.apply(this,arguments)}case 6:return aE.apply(this,arguments)}}throw new Error("InvalidArguments")}function a(aG,aI,aF,aH){J(g,aG,aI,aF,aH,true)}function af(aG,aI,aF,aH,aJ){J(g,aG,aI,aF,aH,aJ)}function ae(aJ,aG,aI,aF,aH){J(aJ,aG,aI,aF,aH,true)}function aE(aK,aG,aJ,aF,aI,aM){if(GLLibConfig.landscape_useRotatedModules&&aM){var aL=aG;aG=GetGraphicsHeight()-aJ-1;aJ=aL;aL=aF;aF=GetGraphicsHeight()-aI-1;aI=aL}if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){ASprite.DrawLineARGB(ASprite._customGraphics,ASprite._customGraphicsWidth,ASprite._customGraphicsHeight,ASprite._customGraphicsAlpha,aG,aJ,aF,aI,4278190080|aK.getColor())}else{if(GLLibConfig.useDrawLineClippingBug){if(aJ>aI){var aH;(aH)=(aG);(aG)=(aF);(aF)=(aH);(aH)=(aJ);(aJ)=(aI);(aI)=(aH)}}aK.drawLine(aG,aJ,aF,aI)}}function al(aI,aH,aG,aF,aK,aJ){if(aJ!=E){return at(aI,aH,aG,aF,aK,aJ)}else{if(aK!=E){if(typeof aI=="number"){return u(aI,aH,aG,aF,aK)}else{return t(aI,aH,aG,aF,aK)}}else{if(aF!=E){return au(aI,aH,aG,aF)}}}throw new Error("InvalidArguments")}function au(aG,aI,aH,aF){al(g,aG,aI,aH,aF,true)}function u(aG,aJ,aH,aF,aI){al(g,aG,aJ,aH,aF,aI)}function t(aI,aG,aJ,aH,aF){al(aI,aG,aJ,aH,aF,true)}function at(aI,aL,aK,aF,aN,aG){if(GLLibConfig.landscape_useRotatedModules&&aG){var aH=aL;aL=GetGraphicsHeight()-aK-aN;aK=aH;aH=aF;aF=aN;aN=aH}if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){ASprite.FillRectARGB(ASprite._customGraphics,ASprite._customGraphicsWidth,ASprite._customGraphicsHeight,ASprite._customGraphicsAlpha,aL,aK,aF,aN,4278190080|aI.getColor())}else{if(GLLibConfig.useSafeFillRect){var aM=Image.createImage(aF,aN);var aJ=aM.getGraphics();aJ.setColor(aI.getColor());aJ.fillRect(0,0,aF,aN);w(aI,aM,aL,aK,b|p,false)}else{aI.fillRect(aL,aK,aF,aN)}}}function av(aH,aF,aI,aG){if(!(aH!=null)){Assert(false,"DrawString.str is null")}if(!((aG&(az|p|ap))!=0)){Assert(false,"DrawString.anchor miss vertical positionning")}if(!((aG&(G|b|k))!=0)){Assert(false,"DrawString.anchor miss horizontal positionning")}aG=W(aG);g.drawString(aH,aF,aI,aG)}function w(aI,aH,aG,aF,aK,aJ){if(aJ!=E){return K(aI,aH,aG,aF,aK,aJ)}else{if(aK!=E){return L(aI,aH,aG,aF,aK)}else{if(aF!=E){return M(aI,aH,aG,aF)}}}throw new Error("InvalidArguments")}function M(aG,aF,aI,aH){w(g,aG,aF,aI,aH)}function L(aI,aG,aF,aJ,aH){w(aI,aG,aF,aJ,aH,true)}function K(aK,aH,aF,aM,aI,aL){var aG=0;var aJ=0;aK.drawImage(aH.m_image,aF,aM,aI)}function d(aP,aO,aN,aM,aL,aK,aJ,aI,aH,aG,aF){if(aF!=E){return j(aP,aO,aN,aM,aL,aK,aJ,aI,aH,aG,aF)}else{if(aG!=E){if(aP instanceof Image){return aB(aP,aO,aN,aM,aL,aK,aJ,aI,aH,aG)}else{return aC(aP,aO,aN,aM,aL,aK,aJ,aI,aH,aG)}}else{if(aH!=E){return ay(aP,aO,aN,aM,aL,aK,aJ,aI,aH)}}}throw new Error("InvalidArguments")}function ay(aF,aL,aK,aG,aN,aH,aM,aJ,aI){d(g,aF,aL,aK,aG,aN,aH,x_dest,aJ,aI,true)}function aC(aK,aF,aN,aM,aG,aO,aH,aI,aL,aJ){d(aK,aF,aN,aM,aG,aO,aH,aI,aL,aJ,true)}function aB(aF,aN,aM,aG,aO,aI,aJ,aL,aK,aH){d(g,aF,aN,aM,aG,aO,aI,aJ,aL,aK,aH)}function j(aM,aF,aQ,aP,aG,aS,aJ,aK,aO,aL,aI){if(!(aF!=null)){Assert(false,"DrawRegion.src is null")}if(!((aL&(az|p|ap))!=0)){Assert(false,"DrawRegion.anchor miss vertical positionning")}if(!((aL&(G|b|k))!=0)){Assert(false,"DrawRegion.anchor miss horizontal positionning")}if(!(aJ>=0)){Assert(false,"DrawRegion.transform is invalid")}if(!(aJ<=7)){Assert(false,"DrawRegion.transform is invalid")}if(!(aQ>=0)){Assert(false,"DrawRegion.x_src is negative")}if(!(aP>=0)){Assert(false,"DrawRegion.y_src is negative")}if(GLLibConfig.landscape_useRotatedModules&&aI){var aU=0;if((aL&b)!=0){aU|=p}if((aL&k)!=0){aU|=ap}if((aL&p)!=0){aU|=k}if((aL&ap)!=0){aU|=b}if((aL&G)!=0){aU|=az}if((aL&az)!=0){aU|=G}if(aJ==aw){aJ=ax}else{if(aJ==ax){aJ=I}else{if(aJ==I){aJ=V}else{if(aJ==V){aJ=aw}else{if(aJ==am){aJ=F}}}}}var aH=aK;aK=GetGraphicsHeight()-aO;aO=aH;aL=aU}if(!(aQ+aG<=aF.getWidth())){Assert(false,"DrawRegion.x_src+width is bigger than source image")}if(!(aP+aS<=aF.getHeight())){Assert(false,"DrawRegion.x_src+height is bigger than source image")}if(GLLibConfig.useSafeDrawRegion){if(aQ<0){aG+=aQ;aQ=0}if(aQ+aG>=aF.getWidth()){aG+=aF.getWidth()-(aQ+aG)}if(aP<0){aS+=aP;aP=0}if(aP+aS>=aF.getHeight()){aS+=aF.getHeight()-(aP+aS)}if(aS<=0||aG<=0){return}}if(GLLibConfig.sprite_drawRegionRotationBug){if((aJ==ax)||(aJ==V)||(aJ==F)){var aR=aS;var aT=aG;if((aL&k)!=0){aK-=aR}else{if((aL&G)!=0){aK-=(aR>>1)}}if((aL&ap)!=0){aO-=aT}if((aL&az)!=0){aO-=(aT>>1)}aL=b|p}}try{if(GLLibConfig.sprite_drawRegionFlippedBug){image=Image.createImage(aF,aQ,aP,aG,aS,aJ);aM.drawImage(image.m_image,aK,aO,aL)}else{aM.drawRegion(aF.m_image,aQ,aP,aG,aS,aJ,aK,aO,aL)}}catch(aN){Assert(false,"DrawRegion.src cannot be the current graphic context");Err(aN)}}function N(aI,aH,aG,aF,aM,aL,aK,aJ){if(aJ!=E){return C(aI,aH,aG,aF,aM,aL,aK,aJ)}else{if(aK!=E){if(aI instanceof Graphics){return ag(aI,aH,aG,aF,aM,aL,aK)}else{return ah(aI,aH,aG,aF,aM,aL,aK)}}else{if(aL!=E){return D(aI,aH,aG,aF,aM,aL)}}}throw new Error("InvalidArguments")}function D(aI,aK,aG,aJ,aF,aH){N(aI,aK,aG,aJ,aF,aH,true)}function ah(aI,aK,aG,aJ,aF,aH,aL){N(g,aI,aK,aG,aJ,aF,aH,aL)}function ag(aL,aI,aK,aG,aJ,aF,aH){N(aL,aI,aK,aG,aJ,aF,aH,true)}function C(aL,aI,aK,aG,aJ,aF,aH,aM){if(GLLibConfig.useDrawLineWithFillTriangle){J(aL,aI,aK,aG,aJ);J(aL,aI,aK,aF,aH);J(aL,aF,aH,aG,aJ)}if(GLLibConfig.landscape_useRotatedModules&&aM){holdTemp=aI;aI=GetGraphicsHeight()-aK-1;aK=holdTemp;holdTemp=aG;aG=GetGraphicsHeight()-aJ-1;aJ=holdTemp;holdTemp=aF;aF=GetGraphicsHeight()-aH-1;aH=holdTemp}aL.fillTriangle(aI,aK,aG,aJ,aF,aH)}function v(aI,aF,aH,aJ){var aG=null;if(GLLibConfig.sprite_useCreateRGBTransparencyBug){aG=Image.createRGBImage(aI,aF,aH,true)}else{aG=Image.createRGBImage(aI,aF,aH,aJ)}return aG}function e(aX,aO,aL,aI,aP,aN,aT,aS,aU,aV,aM,aQ,aW){var aV=!LowAPI.isUndefined(aV)?aV:true;var aM=!LowAPI.isUndefined(aM)?aM:0;var aQ=!LowAPI.isUndefined(aQ)?aQ:-1;var aW=!LowAPI.isUndefined(aW)?aW:true;if(!(aO!=null)){Assert(false,"DrawRGB. invalid parameter: rgbData is null")}if(!(aL>=0)){Assert(false,"DrawRGB. invalid parameter: offset < 0")}if(!(aT>=0)){Assert(false,"DrawRGB. invalid parameter: width < 0")}if(!(aS>=0)){Assert(false,"DrawRGB. invalid parameter: height < 0")}if(!(aI>0)){Assert(false,"DrawRGB. invalid parameter: scanlength <= 0")}if(!(aL+aT+(aS-1)*aI<=aO.length)){Assert(false,"DrawRGB. invalid parameter(s) out of array bounds")}if(!((aM==0)||(aI==aT))){Assert(false,"DrawRGB. invalid parameter mix: flags are not 0 and scanlength is not the width!")}if(GLLibConfig.landscape_useRotatedModules){if(aW){var aF=aS;if((aM&ASprite.FLAG_ROT_90)!=0){aF=aT;aM&=~ASprite.FLAG_ROT_90;if((aM&ASprite.FLAG_FLIP_Y)!=0){aM&=~ASprite.FLAG_FLIP_Y}else{aM|=ASprite.FLAG_FLIP_Y}if((aM&ASprite.FLAG_FLIP_X)!=0){aM&=~ASprite.FLAG_FLIP_X}else{aM|=ASprite.FLAG_FLIP_X}}else{aM|=ASprite.FLAG_ROT_90}var aR=aP;aP=GetGraphicsHeight()-aN-aF;aN=aR}}if(GLLibConfig.sprite_allowPixelArrayGraphics&&ASprite._customGraphics!=null){if(!(aL==0)){Assert(false,"DrawRGB (graphics is pixel array): offset must be 0! Easy to add this if needed though...")}if(!(aI==aT)){Assert(false,"DrawRGB (graphics is pixel array): scanlength must be equal to the width!")}if(GLLibConfig.sprite_supportTransparentIndexData&&aQ>=0){ASprite.BlitARGB(ASprite._customGraphics,ASprite._customGraphicsWidth,ASprite._customGraphicsHeight,ASprite._customGraphicsAlpha,aP,aN,aO,aT,aS,ASprite.ALPHA_INDEX,aM,aQ)}else{ASprite.BlitARGB(ASprite._customGraphics,ASprite._customGraphicsWidth,ASprite._customGraphicsHeight,ASprite._customGraphicsAlpha,aP,aN,aO,aT,aS,aU?(aV?ASprite.ALPHA_FULL:ASprite.ALPHA_TRANSPARENT):ASprite.ALPHA_NONE,aM,-1)}}else{if(aM!=0){var aH=0;if((aM&ASprite.FLAG_ROT_90)!=0){aH=aT;aT=aS;aS=aI;aI=aT}aO=ASprite.TransformRGB(aO,aT,aS,aM);if((aM&ASprite.FLAG_ROT_90)!=0){aS=aH}}if(GLLibConfig.sprite_drawRGBTransparencyBug){var aG=v(aO,aT,aS,aU);w(aX,aG,aP,aN,b|p,false)}else{if(GLLibConfig.useDrawPartialRGB||GLLibConfig.sprite_useTruncatedRGBBuffer){if(aX==s_lastPaintGraphics){drawPartialRGB(aX,aO,aI,aL%aI,LowAPI.Float2Int(aL/aI),aP,aN,aT,aS,aU,aW)}else{drawPartialRGB(aX,aX.getClipX()+aX.getClipWidth(),aX.getClipY()+aX.getClipHeight(),aO,aI,aL%aI,LowAPI.Float2Int(aL/aI),aP,aN,aT,aS,aU)}}else{if(GLLibConfig.useDrawRGBTranslationFix){var aK=aX.getTranslateX();var aJ=aX.getTranslateY();aX.translate(-aK,-aJ);aX.drawRGB(aO,aL,aI,aP+aK,aN+aJ,aT,aS,aU);aX.translate(aK,aJ)}else{aX.drawRGB(aO,aL,aI,aP,aN,aT,aS,aU)}}}}}function B(){return Image.createImage.apply(this,arguments)}function H(aF){return aF.getGraphics()}function ak(aI,aH,aF,aG,aM,aL,aN,aJ){aI.getRGB(aH,aF,aG,aM,aL,aN,aJ);if(GLLibConfig.sprite_getRGBTransparencyBug){var aK=aF+(aN*aJ);while(aK-->aF){if((aH[aK]&16777215)==16711935){aH[aK]=16711935}}}}function ab(){return s_screenWidth}function ai(){return s_screenHeight}function aD(){}function W(aF){if((aF&az)!=0){aF&=~az;aF|=g.BASELINE}return aF}function Z(aF){if(GLLibConfig.useGetDisplayColorMagentaFix!=-1){if((aF&16777215)==16711935){return GLLibConfig.useGetDisplayColorMagentaFix}}return g.getDisplayColor(aF)}(function y(){Object.defineProperty(O,"HCENTER",{get:function(){return G},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"VCENTER",{get:function(){return az},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"LEFT",{get:function(){return b},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"RIGHT",{get:function(){return k},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TOP",{get:function(){return p},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"BOTTOM",{get:function(){return ap},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"SOLID",{get:function(){return aq},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"DOTTED",{get:function(){return ao},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TRANS_NONE",{get:function(){return aw},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TRANS_ROT90",{get:function(){return ax},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TRANS_ROT180",{get:function(){return I},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TRANS_ROT270",{get:function(){return V},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TRANS_MIRROR",{get:function(){return am},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TRANS_MIRROR_ROT90",{get:function(){return F},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TRANS_MIRROR_ROT180",{get:function(){return aA},set:function(aF){throw new Error("Not allow!")}});Object.defineProperty(O,"TRANS_MIRROR_ROT270",{get:function(){return c},set:function(aF){throw new Error("Not allow!")}})})();LowAPI.extendObject(O,{SetColor:l,SetARGBColor:an,GetClipX:U,GetClipY:T,GetClipWidth:X,GetClipHeight:aj,SetClip:ar,IsClipValid:Y,DrawLine:J,FillRect:al,DrawString:av,DrawImage:w,DrawRegion:d,FillTriangle:N,CreateRGBImage:v,DrawRGB:e,CreateImage:B,GetGraphics:H,GetRGB:ak,GetScreenWidth:ab,GetScreenHeight:ai,GetDisplayColor:Z,},true)})(window);