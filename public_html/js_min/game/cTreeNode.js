(function(ac,aJ){var u={};u.ID=0;u.TYPE_PLAYER=0;u.TYPE_EQUIPMENT=1;u.TYPE_MONSTER=2;u.TYPE_POTION=3;u.STOREASBYTE=0;u.STOREASSHORT=1;u.STOREASINT=2;var bx=0;var f=1;var F=2;var l=2;var aT=3;var aV=0;var bh=1;var m=2;var A=3;var aP=0;var bw=1;var bE=0;var r=1;var az=2;var bk=3;var bH=4;var E=0;var aL=1;var aI=1;var bo=1;var bg=2;var G=1;var w=2;var a7=2;var aC=2;var n=3;var br=3;var a9=3;var bz=3;var ak=4;var bB=4;var aU=0;var aZ=1;var aK=2;var ad=0;var bu=1;var V=2;var bC=10;var a=11;var aw=12;var ab=20;var O=21;var aW=22;var an=23;var am=24;var ba=30;var k=31;var ax=32;var z=33;var d=34;var c=35;var b=36;var aa=37;var Z=38;var Y=39;var aH=40;var H=41;var bq=42;var aG=43;var M=44;var j=45;var B=46;var bl=47;var bv=48;var bA=100;var L=105;var aB=106;var bc=107;var aD=0;var i=1;var h=2;var aY=3;var aX=4;var bb=5;var I=1;var t=2;var au=1;var by=2;var P=1;var a0=2;var U=1;var T=2;var aQ=3;var aO=4;var bp=5;var bf=1;var bI=2;var o=3;var bs=1;var K=2;var bj=3;var af=1;var aM=2;var bi=1;var g=2;var J=1;var W=2;var N=3;var q=1;var C=0;var D=1;var aj=0;var ag=1;var ah=2;var aN=3;var ap=4;var ao=5;var bF=6;var x=7;var v=8;var S=9;var R=10;var a8=11;var a5=12;var at=13;var aq=14;var av=15;var aA=16;var aS=17;var ae=18;var a4=19;var bn=20;var ay=21;var a3=8388608;var Q=1;function aF(){this.m_parent=null;this.m_sons=null;this.m_nSons=0;this.m_type=0;this.m_data=null}var a2=aF;var a6=aF.prototype;a2.GetNextId=function(s,bJ){var p=[0];s.GetNextId(s,bJ,p);return p[0]};a6.GetNextId=function(s,bK,p){if(s.m_type==bK&&p[0]<=s.m_data[u.ID]){p[0]=s.m_data[u.ID]}for(var bJ=0;bJ<s.m_nSons;++bJ){if(s.m_sons[bJ]!=null){this.GetNextId(s.m_sons[bJ],bK,p)}}};a2.CountNodes=function(s,bJ){var p=[0];s.CountNodes(s,bJ,p);return p[0]};a6.CountNodes=function(s,bK,p){if(s.m_type==bK){++p[0]}for(var bJ=0;bJ<s.m_nSons;++bJ){if(s.m_sons[bJ]!=null){this.CountNodes(s.m_sons[bJ],bK,p)}}};a6.RemoveChild=function(bM,bJ){var s=0;var p=false;for(s=0;s<m_nSons&&!p;s++){if(this.m_sons[s].m_data[u.ID]==bM&&this.m_sons[s].m_type==bJ){this.m_sons[s]=null;p=true}}s=s-1;if(p){--this.m_nSons;var bL=LowAPI.Gen_Array([this.m_nSons],null);if(s!=0){try{Mem_ArrayCopy(this.m_sons,0,bL,0,s)}catch(bK){Err("ERROR in cTreeNode while decreasing sons length")}}if(s!=this.m_nSons){try{Mem_ArrayCopy(this.m_sons,s+1,bL,s,this.m_nSons-s)}catch(bK){Err("ERROR in cTreeNode while decreasing sons length")}}this.m_sons=bL}return p};a6.AddChild=function(bL){bL.m_parent=this;var s=false;if(this.m_nSons==0){this.m_nSons=1;this.m_sons=LowAPI.Gen_Array([this.m_nSons],null);this.m_sons[0]=null}for(var p=0;p<this.m_nSons;++p){if(this.m_sons[p]==null){s=true;this.m_sons[p]=bL;return}}if(!s){var bK=LowAPI.Gen_Array([this.m_nSons+1],null);try{Mem_ArrayCopy(this.m_sons,0,bK,0,this.m_nSons)}catch(bJ){Err("ERROR in cTreeNode while increasing sons length")}this.m_sons=bK;this.m_sons[this.m_nSons]=bL;this.m_nSons++}};var bd=0;var bm={};bm.ID=0;bm.VALUES=1;bm.listNodeHeader=0;bm.listNodeLast=1;function ar(){var p=[null,null];X(p);return p}function al(p){var bJ=new aF();bJ.m_type=bd;bJ.m_data=LowAPI.Gen_Array([p.length+2],0);bJ.m_data[bm.ID]=aF.GetNextId(bJ,bd)+1;for(var s=0;s<p.length;s++){bJ.m_data[bm.VALUES+s]=p[s]}bJ.m_nSons=0;return bJ}function aR(p){var s=null;if(p[bm.listNodeHeader]==null){}else{s=p[bm.listNodeHeader];if(bt(p)==1){p[bm.listNodeHeader]=null;p[bm.listNodeLast]=null}else{s=p[bm.listNodeHeader];p[bm.listNodeHeader]=p[bm.listNodeHeader].m_sons[0]}}return s}function e(p,s){if(p[bm.listNodeHeader]==null){p[bm.listNodeHeader]=s;p[bm.listNodeLast]=s}else{p[bm.listNodeLast].AddChild(s);p[bm.listNodeLast]=s}}function a1(p){var s=null;if(p[bm.listNodeHeader]==null){}else{s=p[bm.listNodeLast];if(bt(p)==1){p[bm.listNodeHeader]=null;p[bm.listNodeLast]=null}else{p[bm.listNodeLast]=s.m_parent;p[bm.listNodeLast].RemoveChild(0,s.m_type)}}return s}function bG(p,s){if(p[bm.listNodeHeader]==null){p[bm.listNodeHeader]=s;p[bm.listNodeLast]=s}else{s.AddChild(p[bm.listNodeHeader]);p[bm.listNodeHeader]=s}}function bt(p){return aF.CountNodes(p[bm.listNodeHeader],bd)}function ai(p){return p[bm.listNodeHeader]}function y(p){return p[bm.listNodeLast]}function aE(p,s){if(s!=p[bm.listNodeLast]){return s.m_sons[0]}return null}function be(p,s){if(s!=p[bm.listNodeHeader]){return s.m_parent}return null}function X(p){p[bm.listNodeHeader]=null;p[bm.listNodeLast]=null}function bD(p){return(p[bm.listNodeHeader]==null)}LowAPI.extendObject(ac,{ITree:u,IList:bm,cTreeNode:aF,NodeList_CreateNodeList:ar,NodeList_CreateNode:al,NodeList_PopFrontNode:aR,NodeList_PushBackNode:e,NodeList_PopBackNode:a1,NodeList_PushFrontNode:bG,NodeList_Length:bt,NodeList_FrontNode:ai,NodeList_BackNode:y,NodeList_NextNode:aE,NodeList_PreviousNode:be,NodeList_ClearList:X,NodeList_IsEmpty:bD,},true)})(window);