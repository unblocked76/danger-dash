(function(I,j){var y={};y.GFX_BG=0;y.TXT_NAME=y.GFX_BG+1;y.GFX_PROGRESS=y.TXT_NAME+1;y.GFX_ICON=y.GFX_PROGRESS+1;y.BTN_BUY=y.GFX_ICON+1;y.GFX_PRICE=y.BTN_BUY+1;y.TXT_PRICE=y.GFX_PRICE+1;y.BTN_EXPAND=y.TXT_PRICE+1;y.SIZE=y.BTN_EXPAND+1;var s={};s.GFX_BG=0;s.BTN_COLLAPSE=s.GFX_BG+1;s.TXT_NAME=s.BTN_COLLAPSE+1;s.GFX_PROGRESS=s.TXT_NAME+1;s.GFX_ICON=s.GFX_PROGRESS+1;s.BTN_BUY=s.GFX_ICON+1;s.GFX_PRICE=s.BTN_BUY+1;s.TXT_PRICE=s.GFX_PRICE+1;s.TXT_DESCRIPTION=s.TXT_PRICE+1;s.SIZE=s.TXT_DESCRIPTION+1;var H=new cScrollMenu(0,0,0,0,0,0,0);var z=[0,0,0,0];var e=0;var b=0;var n=-1;var w=0;var G=null;var l=null;var f;var c;var d=[IUpgrade.MULTIPLIER,IUpgrade.ANKH,IUpgrade.FEVER_METER,IUpgrade.GOLD_RUSH,IUpgrade.MONEYBAG,IUpgrade.SILVER_COINS,IUpgrade.MOUNT,];function v(){v.__superclass__.call(this,v.ID,arguments);this.setListenerStateMessage(GameState.MESSAGE_INIT,this.INIT);this.setListenerStateMessage(GameState.MESSAGE_UPDATE,this.UPDATE);this.setListenerStateMessage(GameState.MESSAGE_PAINT,this.PAINT);this.setListenerStateMessage(GameState.MESSAGE_EXIT,this.EXIT)}LowAPI.extendClass(v,GameState);v.ID=GameState.genID();v.prototype.INIT=function(){guiMgr_SetLayerActiveStateAll(false);guiMgr_ResetAllGUILayers();Input_Init();guiMgr_ActivateGUILayer(GUI_LAYER.UPGRADES,true);StopSound(SOUND_MODE.MUSIC)};v.prototype.UPDATE=function(){guiMgr_processInputAllGuiLayers();guiMgr_updateLayers()};v.prototype.PAINT=function(){guiMgr_PaintGUILayers()};v.prototype.EXIT=function(){guiMgr_ActivateGUILayer(GUI_LAYER.UPGRADES,false)};_register_gui_message(GameData.k_gameMenuUpgrades,E);function E(L,K){if(L==GUI_MESSAGE_INITIALIZE){s_playerLastPointerMode=INPUT_FLAG_PRESSED;s_bAllowInputInScroll=true;if(G==null){G=LowAPI.Gen_Array([s_arrayUpgrades.length],false);l=LowAPI.Gen_Array([s_arrayUpgrades.length],0)}gui_ResetAllLayerButtonsPressedState();guiMgr_SetLayerInputBlockState(guiMgr_GetGUILayerIndex(guiMgr_iCurrentLayerType),true);guiMgr_SetLayerPaintBlockState(guiMgr_GetGUILayerIndex(guiMgr_iCurrentLayerType),true);updateCurrencyHUD();SetButtonEnabled(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_btnUpgrades,false);SetButtonVisibility(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_btnAddCoins,false);SetButtonVisibility(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_btncoins,false);SetGraphItemVisibility(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_gfx_coin,false);q();SetTextAreaString(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_txtTitle,getString(TEXT.MAIN_SCREEN_UPGRADES));var M=u();SetGraphItemVisibility(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_gfx_Upgradebg,M>0&&!s_arrivedUpgradesThroughtAP);SetTextAreaVisibility(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_Txt_upgradeValue,M>0&&!s_arrivedUpgradesThroughtAP);SetTextAreaString(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_Txt_upgradeValue,""+M)}if(L==GUI_MESSAGE_UPDATE){i();var M=u();SetGraphItemVisibility(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_gfx_Upgradebg,M>0&&!s_arrivedUpgradesThroughtAP);SetTextAreaVisibility(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_Txt_upgradeValue,M>0&&!s_arrivedUpgradesThroughtAP);SetTextAreaString(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_Txt_upgradeValue,""+M)}if(L==GUI_MESSAGE_AFTER_PAINT){m(true)}if(L==GUI_MESSAGE_INPUT_EVENT){switch(K){case GameData.k_MenuUpgrades_btnExit:J();break;case GameData.k_MenuUpgrades_btnCollections:msgBox_AddMsgBox(MSGBOX_TYPE.CONFIRM,"Collections / Not implemented yet!");break;case GameData.k_MenuUpgrades_btnCharacters:GameState.scheduleSwitchState(GameState_CHARACTERS.ID,true,true);guiMgr_ActivateGUILayer(GUI_LAYER.UPGRADES,false);playSound(SOUND_TYPE.SELECT_SFX,false);break;case GameData.k_MenuUpgrades_btnAddCoins:msgBox_AddMsgBox(MSGBOX_TYPE.CONFIRM,"AddCoins/ Not implemented yet!");break;case GameData.k_MenuUpgrades_btncoins:msgBox_AddMsgBox(MSGBOX_TYPE.CONFIRM,"Coins/ Not implemented yet!");break;case GameData.k_MenuUpgrades_btn_Diamonds:msgBox_AddMsgBox(MSGBOX_TYPE.CONFIRM,"Diamonds/ Not implemented yet!");break}}}function J(){if(!s_arrivedUpgradesThroughtAP){GameState.scheduleSwitchState(GameState_MENUMAIN.ID,true,true);playSound(SOUND_TYPE.BACK_SFX,false);guiMgr_ActivateGUILayer(GUI_LAYER.UPGRADES,false)}else{s_arrivedUpgradesThroughtAP=false;playSound(SOUND_TYPE.BACK_SFX,false);guiMgr_ActivateGUILayer(GUI_LAYER.UPGRADES,false);if(s_arrivedUpgradesFromSuggestion){s_arrivedUpgradesFromSuggestion=false;GameState.scheduleSwitchState(GameState_RESULTITEMSUGGESTION.ID)}else{if(s_arrivedUpgradesFromRanking){s_arrivedUpgradesFromRanking=false;switchStateThroughLoading(STATE_RESULTRANKING,LOADING_DISPLAY_TYPE.NONE,"Going to relics results screen...")}else{GameState.scheduleSwitchState(GameState_RESULTEXPLOITS2.ID)}}}}function C(K){return false}function F(){return !true}function u(){var K=0;for(var L=0;L<s_upgradeLevel.length;L++){if(s_upgradeLevel[L]>=-1&&s_upgradeLevel[L]<4){if(DecodeInt(s_systemCoins)>=s_arrayUpgrades[L][s_upgradeLevel[L]+1][F()?IUpgrade.PREMIUM_COST:IUpgrade.COST]){K++}}}return K}function B(){var K=-1;K=s_arrayUpgrades.length;H.SetElementCounter(K);return K}function a(K){var R=0;for(var M=0;M<G.length;M++){l[M]=R;if(G[M]){R+=s.SIZE}else{R+=y.SIZE}}ResetLayerData(GameData.k_gameUpgradesScrollItem_Base);ResizeLayerNumElems(GameData.k_gameUpgradesScrollItem_Base,R);var O=0;var N=0;var S;var L;var P=0;for(var Q=0;Q<K;++Q){S=G[Q]?GameData.k_gameUpgradesScrollItem_Expanded:GameData.k_gameUpgradesScrollItem;L=G[Q]?s.SIZE:y.SIZE;for(var M=0;M<L;M++){CloneLayerElemData(S,GameData.k_gameUpgradesScrollItem_Base,M,P+M,1);if(G[Q]){H.SetElemHeight(Q,c+1);H.SetElemSpacingY(Q,GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_ELEMVERTSPACING)+c)}else{H.SetElemHeight(Q,f+1);H.SetElemSpacingY(Q,GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_ELEMVERTSPACING)+f)}O=GetParamValue(S,M,GtsData.GUI_POSX);N=GetParamValue(S,M,GtsData.GUI_POSY);SetParamValue(GameData.k_gameUpgradesScrollItem_Base,P+M,GtsData.GUI_POSX,O+H.GetElementPosX(Q,false));SetParamValue(GameData.k_gameUpgradesScrollItem_Base,P+M,GtsData.GUI_POSY,N+H.GetElementPosY(Q,false))}k(d[Q]);P+=G[Q]?s.SIZE:y.SIZE}}function k(N){var K=-1;var O;for(var L=0;L<d.length;L++){if(d[L]==N){K=L;break}}O=l[K];if(G[K]){SetParamValue(GameData.k_gameUpgradesScrollItem_Base,s.GFX_ICON+O,GtsData.GUI_GRAPHITEM_FRAMEID,N);SetTextAreaString(GameData.k_gameUpgradesScrollItem_Base,s.TXT_NAME+O,getString(TEXT.MAIN_UPGRADE_NAME_ANKH+N));if(C(N)){SetParamValue(GameData.k_gameUpgradesScrollItem_Base,s.GFX_PRICE+O,GtsData.GUI_GRAPHITEM_FRAMEID,ICONS_COLLECTABLE.FRAME_DIAMOND_ICON_SMALL)}else{SetParamValue(GameData.k_gameUpgradesScrollItem_Base,s.GFX_PRICE+O,GtsData.GUI_GRAPHITEM_FRAMEID,ICONS_COLLECTABLE.FRAME_COIN_BUTTONS)}var M=s_arrayUpgrades[0].length+1;SetTextAreaString(GameData.k_gameUpgradesScrollItem_Base,s.TXT_DESCRIPTION+O,getString(TEXT.MAIN_UPGRADE_DESC_ANKH_1+(N*M)+s_upgradeLevel[N]+1));if(A(N)){SetTextAreaVisibility(GameData.k_gameUpgradesScrollItem_Base,s.TXT_PRICE+O,false);SetGraphItemVisibility(GameData.k_gameUpgradesScrollItem_Base,s.GFX_PRICE+O,false);SetButtonEnabled(GameData.k_gameUpgradesScrollItem_Base,s.BTN_BUY+O,false);SetButtonText(GameData.k_gameUpgradesScrollItem_Base,s.BTN_BUY+O,getString(TEXT.MAIN_BUTTON_MAX))}else{SetTextAreaVisibility(GameData.k_gameUpgradesScrollItem_Base,s.TXT_PRICE+O,true);SetGraphItemVisibility(GameData.k_gameUpgradesScrollItem_Base,s.GFX_PRICE+O,true);SetTextAreaString(GameData.k_gameUpgradesScrollItem_Base,s.TXT_PRICE+O,""+text_GetFormatNumber(s_arrayUpgrades[N][s_upgradeLevel[N]+1][(F()?IUpgrade.PREMIUM_COST:IUpgrade.COST)]));SetButtonEnabled(GameData.k_gameUpgradesScrollItem_Base,s.BTN_BUY+O,true)}SetParamValue(GameData.k_gameUpgradesScrollItem_Base,s.GFX_PROGRESS+O,GtsData.GUI_GRAPHITEM_FRAMEID,UI.FRAME_ITEM_GAUGE_0+s_upgradeLevel[N]+1)}else{SetParamValue(GameData.k_gameUpgradesScrollItem_Base,y.GFX_ICON+O,GtsData.GUI_GRAPHITEM_FRAMEID,N);SetTextAreaString(GameData.k_gameUpgradesScrollItem_Base,y.TXT_NAME+O,getString(TEXT.MAIN_UPGRADE_NAME_ANKH+N));if(C(N)){SetParamValue(GameData.k_gameUpgradesScrollItem_Base,y.GFX_PRICE+O,GtsData.GUI_GRAPHITEM_FRAMEID,ICONS_COLLECTABLE.FRAME_DIAMOND_ICON_SMALL)}else{SetParamValue(GameData.k_gameUpgradesScrollItem_Base,y.GFX_PRICE+O,GtsData.GUI_GRAPHITEM_FRAMEID,ICONS_COLLECTABLE.FRAME_COIN_BUTTONS)}if(A(N)){SetTextAreaVisibility(GameData.k_gameUpgradesScrollItem_Base,y.TXT_PRICE+O,false);SetGraphItemVisibility(GameData.k_gameUpgradesScrollItem_Base,y.GFX_PRICE+O,false);SetButtonEnabled(GameData.k_gameUpgradesScrollItem_Base,y.BTN_BUY+O,false);SetButtonText(GameData.k_gameUpgradesScrollItem_Base,y.BTN_BUY+O,getString(TEXT.MAIN_BUTTON_MAX))}else{SetTextAreaVisibility(GameData.k_gameUpgradesScrollItem_Base,y.TXT_PRICE+O,true);SetGraphItemVisibility(GameData.k_gameUpgradesScrollItem_Base,y.GFX_PRICE+O,true);SetTextAreaString(GameData.k_gameUpgradesScrollItem_Base,y.TXT_PRICE+O,""+text_GetFormatNumber(s_arrayUpgrades[N][s_upgradeLevel[N]+1][(F()?IUpgrade.PREMIUM_COST:IUpgrade.COST)]));SetButtonEnabled(GameData.k_gameUpgradesScrollItem_Base,y.BTN_BUY+O,true)}SetParamValue(GameData.k_gameUpgradesScrollItem_Base,y.GFX_PROGRESS+O,GtsData.GUI_GRAPHITEM_FRAMEID,UI.FRAME_ITEM_GAUGE_0+s_upgradeLevel[N]+1)}}function q(){GetRectAreaRect(s_gui_outRect,GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_rectScroll);var L=s_gui_outRect[2]-s_gui_outRect[0];f=s_gui_outRect[3]-s_gui_outRect[1];GetRectAreaRect(s_gui_outRect,GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_rectScroll_Expanded);c=s_gui_outRect[3]-s_gui_outRect[1];H.Reset();H.SetRowLength(1);H.SetDirection(cScrollMenu.SCROLL_DIRECTION_VERTICAL);H.SetWindowWidth(GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_WIDTH));H.SetWindowHeight(GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_HEIGHT));var K=B();H.SetElemWidth(L+1);H.SetElemHeight(f+1);H.SetElemSpacingX(L);H.SetElemSpacingY(GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_ELEMVERTSPACING)+f);a(K);H.SetLockStateX(true);H.SetLockStateY(false);e=s_gui_outRect[0];b=s_gui_outRect[1];z[0]=GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_POSX)+GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_POSX);z[1]=GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_POSY)+GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_POSY);z[2]=GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_WIDTH);z[3]=GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_HEIGHT);H.Reset();n=-1;w=0}function i(){H.Update(s_game_frameDT);var M=Input_GetPointerPosX_SYNC();var L=Input_GetPointerPosY_SYNC();if(isPointInRectWH(M,L,z)){if(Input_IsPointerDragged_SYNC()){H.ApplyDisplacement(Input_GetDragOffsetX_SYNC(),Input_GetDragOffsetY_SYNC());if(((Input_GetDraggedPosY_SYNC()-Input_GetPressedPosY_SYNC())<0?-(Input_GetDraggedPosY_SYNC()-Input_GetPressedPosY_SYNC()):(Input_GetDraggedPosY_SYNC()-Input_GetPressedPosY_SYNC()))>SCROLL_ALLOWINPUTDRAG_THRESHOLD){s_bAllowInputInScroll=false}}if(Input_IsPointerPressed_SYNC()){s_bAllowInputInScroll=true}if(!s_bAllowInputInScroll){D(0,10000,10000,INPUT_FLAG_RELEASED)}else{if(Input_CheckState_SYNC(INPUT_FLAG_DRAGGED|INPUT_FLAG_PRESSED)){if(Input_CheckState_SYNC(INPUT_FLAG_DRAGGED)&&s_playerLastPointerMode==INPUT_FLAG_PRESSED&&((Input_GetDragOffsetY_SYNC())<0?-(Input_GetDragOffsetY_SYNC()):(Input_GetDragOffsetY_SYNC()))>2){playSound(SOUND_TYPE.PLAYER_SIDE_MOVE_SFX,false);s_playerLastPointerMode=INPUT_FLAG_DRAGGED}else{if(Input_CheckState_SYNC(INPUT_FLAG_PRESSED)){s_playerLastPointerMode=INPUT_FLAG_PRESSED}}var K=H.GetElementAt(Input_GetPointerPosX_SYNC()-e,Input_GetPointerPosY_SYNC()-b);if((K>=0)){n=K;D(d[K],0,0,INPUT_FLAG_RELEASED)}}if(Input_CheckState(INPUT_FLAG_RELEASED)){H.SetVelocity(Input_GetDragOffsetX_SYNC(),Input_GetDragOffsetY_SYNC(),4);var K=H.GetElementAt(Input_GetPointerPosX_SYNC()-e,Input_GetPointerPosY_SYNC()-b);if(K>=0){w=K;D(d[K],0,0,INPUT_FLAG_RELEASED);H.ResetVelocity();n=-1}}}}}function D(M,K,N,L){x(H,GameData.k_gameUpgradesScrollItem_Base,M,K,N,L)}function x(O,S,K,Q,P,N){var M=O.GetScrollOffsetX();var L=O.GetScrollOffsetY();var R=gui_ProcessInput(S,M+Q,L+P);if(K!=-1&&R!=-1){if(N==INPUT_FLAG_RELEASED){switch(S){case GameData.k_gameUpgradesScrollItem_Base:h(n,R);break;case GameData.k_gameCharactersScrollItem:PlayerCharacters_ProcessItemClick(R);break;case GameData.k_gameHelpTextScrollItem:PlayerHelpText_ProcessItemClick(s_helptextScroll_PressedButton,R);break;case GameData.k_gameStatsScrollContent:PlayerStats_ProcessItemClick(s_statsScroll_PressedButton,R);break;case GameData.k_gameMsgInboxItem:MsgInbox_ProcessItemClick(s_MsgInboxScroll_PressedButton,R);break;case GameData.k_gameAchievementsScrollItem:PlayerAchievements_ProcessItemClick(s_achievementsScroll_PressedButton,R);break;case GameData.k_gameLeaderboardsScrollItem:Leaderboards_ProcessItemClick(s_leaderboardsScroll_PressedButton,R);break;case GameData.k_gameLanguageScrollItem:Language_ProcessItemClick(get_languageScroll_PressedButton(),R);break;case GameData.k_gameInviteScrollItem:Invites_ProcessItemClick(s_inviteScroll_PressedButton,R);break;case GameData.k_gameIAPScrollItem:PlayerIAP_ProcessItemClick(s_IAPScroll_PressedButton,R);break;case GameData.k_gameCreditsScrollItem:Credits_ProcessItemClick(s_creditsScroll_PressedButton,R);break}}}}function p(){var K=H.GetScrollOffsetX();var L=H.GetScrollOffsetY();PaintAllVisibleItems(GameData.k_gameUpgradesScrollItem_Base,K,L)}function m(L){gui_SetClip(z[0],z[1],z[2],z[3]);var K=0;var M=0;p();gui_RestoreClip();H.Paint(g,e,b);if(L){H.PaintScrollBar(g,SCROLLBAR_BACK,SCROLLBAR_FRONT,(z[0]+z[2]-1),z[1],7,z[3],z[2],z[3])}}function A(K){return(s_upgradeLevel[K]>=s_arrayUpgrades[K].length-1)}function t(K){var M=s_arrayUpgrades[K][s_upgradeLevel[K]+1][(F()?IUpgrade.PREMIUM_COST:IUpgrade.COST)];if(DecodeInt(s_systemCoins)>=M){var L=DecodeInt(s_systemCoins);L-=M;s_systemCoins=EncodeInt(L);o(K);GameVars_SaveAll()}else{r(IAPMGR_COINS,M)}}function o(K){updateCurrencyHUD();s_upgradeLevel[K]++;if(A(K)){Achievements_AddAchievementValue(IExploit.EX_T_ALL_UPGRADES);CurrentExploits_AddExploitValue(IExploit.EX_T_ALL_UPGRADES)}playSound(SOUND_TYPE.BUY_SFX,false)}function h(O,M){var Q=0;var K=-1;var P=M;for(var L=1;L<l.length;L++){if(M<l[L]){break}P=M-l[L];Q++}K=d[Q];if(G[Q]){switch(P){case GameData.k_UpgradesScrollItem_Expanded_btnBuy:if(Q>-1){if(!A(K)){t(K);k(K)}}break;case GameData.k_UpgradesScrollItem_Expanded_btnCollapse:if(Q>-1){playSound(SOUND_TYPE.SELECT_SFX,false);for(var L=0;L<G.length;L++){G[L]=false}a(s_arrayUpgrades.length);var N=H.GetElementPosY(Q,true);if(N<0){H.ApplyDisplacement(0,-N)}else{var R=(N+H.GetElemSpacingY(Q))-GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_HEIGHT);if(R>0){H.ApplyDisplacement(0,-R)}}}break}}else{switch(P){case GameData.k_UpgradesScrollItem_btnBuy:if(Q>-1){if(!A(K)){t(K);k(K)}}break;case GameData.k_UpgradesScrollItem_btnExpand:if(Q>-1){playSound(SOUND_TYPE.SELECT_SFX,false);for(var L=0;L<G.length;L++){G[L]=(L==Q)}a(s_arrayUpgrades.length);var N=H.GetElementPosY(Q,true);if(N<0){H.ApplyDisplacement(0,-N)}else{var R=(N+H.GetElemSpacingY(Q))-GetParamValue(GameData.k_gameMenuUpgrades,GameData.k_MenuUpgrades_ScrollData,GtsData.GUI_SCROLLDATA_HEIGHT);if(R>0){H.ApplyDisplacement(0,-R)}}}break}}}function r(M,K){if(M==IAPMGR_COINS){var L=getString(TEXT.MAIN_NEED_COINS);s_aArgumentStringArr[0]=""+(K-DecodeInt(s_systemCoins));L=getFormattedString(L,s_aArgumentStringArr,"#");msgBox_AddMsgBox(MSGBOX_TYPE.CONFIRM,L)}else{if(M==IAPMGR_DIAMONDS){var L=getString(TEXT.MAIN_NEED_CASH);s_aArgumentStringArr[0]=""+(K-DecodeInt(s_systemDiamonds));L=getFormattedString(L,s_aArgumentStringArr,"#");msgBox_AddMsgBox(MSGBOX_TYPE.CONFIRM,L)}else{throw new Error("the type("+M+") is wrong!")}}}LowAPI.extendObject(I,{GameState_UPGRADES:v,isPremium:F,canBuyNumUpgrade:u,scroll_doElementClick:x,upgrades_ShowNotEnough:r,PlayerUpgrades_IsUpgradeMaxed:A,upgrade_needsPremiumCurrency:C,PlayerUpgrades_BuyUpgrade:t,},true)})(window);