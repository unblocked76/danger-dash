(function(a,e){function c(j,l,g,k,i,h,f){this.m_element_Counter=0;this.m_iElementSpacingX=null;this.m_iElementSpacingY=null;this.m_element_RowLength=j|0;this.m_iElementWidth=null;this.m_iElementHeight=null;this.m_scrollMenu_locked_X=false;this.m_scrollMenu_locked_Y=false;this.m_scrollMenu_offsetX=0;this.m_scrollMenu_offsetY=0;this.m_scrollMenu_windowWidth=h|0;this.m_scrollMenu_windowHeight=f|0;this.m_scrollMenu_offsetX_prev=0;this.m_scrollMenu_offsetY_prev=0;this.m_scrollMenu_veloc_frictionFactor=2;this.m_scrollMenu_veloc_X=0;this.m_scrollMenu_veloc_Y=0;this.m_scrollMenu_direction=c.SCROLL_DIRECTION_VERTICAL|0;this.SetElementCounter(0);this.m_isScrolling=false}c.SCROLL_DIRECTION_VERTICAL=0;c.SCROLL_DIRECTION_HORIZONTAL=1;var b=c;var d=c.prototype;d.GetDirection=function(){return this.m_scrollMenu_direction};d.SetDirection=function(f){this.m_scrollMenu_direction=f};d.GetRowCount=function(){return 1+LowAPI.Float2Int((this.m_element_Counter-1)/this.m_element_RowLength)};d.GetElementCounter=function(){return this.m_element_Counter};d.SetElementCounter=function(f){this.m_element_Counter=f;this.m_iElementWidth=LowAPI.Gen_Array([this.m_element_Counter],0);this.m_iElementHeight=LowAPI.Gen_Array([this.m_element_Counter],0);this.m_iElementSpacingX=LowAPI.Gen_Array([this.m_element_Counter],0);this.m_iElementSpacingY=LowAPI.Gen_Array([this.m_element_Counter],0)};d.GetRowLength=function(){return this.m_element_RowLength};d.SetRowLength=function(f){this.m_element_RowLength=f};d.SetLockStateX=function(f){this.m_scrollMenu_locked_X=f};d.SetLockStateY=function(f){this.m_scrollMenu_locked_Y=f};d.SetScrollOffsetX=function(f){this.m_scrollMenu_offsetX=f};d.SetScrollOffsetY=function(f){this.m_scrollMenu_offsetY=f};d.GetScrollOffsetX=function(){return this.m_scrollMenu_offsetX};d.GetScrollOffsetY=function(){return this.m_scrollMenu_offsetY};d.GetElemSpacingX=function(f){return this.m_iElementSpacingX[f]};d.GetElemSpacingY=function(f){return this.m_iElementSpacingY[f]};d.SetWindowWidth=function(f){this.m_scrollMenu_windowWidth=f};d.SetWindowHeight=function(f){this.m_scrollMenu_windowHeight=f};d.GetWindowWidth=function(){return this.m_scrollMenu_windowWidth};d.GetWindowHeight=function(){return this.m_scrollMenu_windowHeight};d.SetElemSpacingX=function(f,h){if(h==e){var h=f;for(var g=0;g<this.m_element_Counter;g++){this.SetElemSpacingX(g,h)}}else{this.m_iElementSpacingX[f]=h}};d.SetElemSpacingY=function(f,h){if(h==e){var h=f;for(var g=0;g<this.m_element_Counter;g++){this.SetElemSpacingY(g,h)}}else{this.m_iElementSpacingY[f]=h}};d.SetElemWidth=function(f,h){if(h==e){var h=f;for(var g=0;g<this.m_element_Counter;g++){this.SetElemWidth(g,h)}}else{this.m_iElementWidth[f]=h}};d.SetElemHeight=function(g,f){if(f==e){var f=g;for(var h=0;h<this.m_element_Counter;h++){this.SetElemHeight(h,f)}}else{this.m_iElementHeight[g]=f}};d.GetElemHeight=function(f){return this.m_iElementHeight[f]};d.GetTotalAreaSizeW=function(){if(this.m_scrollMenu_direction==c.SCROLL_DIRECTION_VERTICAL){if(this.m_iElementSpacingX==null||this.m_iElementSpacingX.length==0){return 0}else{return this.m_iElementSpacingX[0]*this.m_element_RowLength}}else{var h=0;var g=LowAPI.Float2Int((this.m_element_Counter+(this.m_element_RowLength-1))/this.m_element_RowLength);for(var f=0;f<g;f++){h+=this.m_iElementSpacingX[f]}if(h<this.m_scrollMenu_windowWidth){h=this.m_scrollMenu_windowWidth}return h}};d.GetTotalAreaSizeH=function(){if(this.m_scrollMenu_direction==c.SCROLL_DIRECTION_VERTICAL){var g=0;for(var f=0;f<this.m_element_Counter;f+=this.m_element_RowLength){g+=this.m_iElementSpacingY[f]}if(g<this.m_scrollMenu_windowHeight){g=this.m_scrollMenu_windowHeight}return g}else{return this.m_iElementSpacingY[0]*this.m_element_RowLength}};d.Update=function(h){var g=0;var f=0;if(this.m_scrollMenu_veloc_X!=0){this.m_scrollMenu_veloc_X=LowAPI.Float2Int((this.m_scrollMenu_veloc_X*(this.m_scrollMenu_veloc_frictionFactor-1))/this.m_scrollMenu_veloc_frictionFactor);g=this.m_scrollMenu_veloc_X}if(this.m_scrollMenu_veloc_Y!=0){this.m_scrollMenu_veloc_Y=LowAPI.Float2Int((this.m_scrollMenu_veloc_Y*(this.m_scrollMenu_veloc_frictionFactor-1))/this.m_scrollMenu_veloc_frictionFactor);f=this.m_scrollMenu_veloc_Y}this.ApplyDisplacement(g,f);this.m_isScrolling=(this.m_scrollMenu_offsetX_prev!=this.m_scrollMenu_offsetX)||(this.m_scrollMenu_offsetY_prev!=this.m_scrollMenu_offsetY);this.m_scrollMenu_offsetX_prev=this.m_scrollMenu_offsetX;this.m_scrollMenu_offsetY_prev=this.m_scrollMenu_offsetY};d.Paint=function(g,h,f){};d.PaintScrollBar=function(j,q,f,k,i,l,g,n,h){if(this.GetTotalAreaSizeW()<=0||this.GetTotalAreaSizeH()<=0){return}var p=GetClipX();var o=GetClipY();var r=GetClipWidth();var m=GetClipHeight();SetClip(k,i,l,g);AlphaRect_SetColor(f);AlphaRect_Draw(j,LowAPI.Float2Int(k+(-this.m_scrollMenu_offsetX*l)/this.GetTotalAreaSizeW()+1),LowAPI.Float2Int(i+(-this.m_scrollMenu_offsetY*g)/this.GetTotalAreaSizeH()+1),l-2,LowAPI.Float2Int(1+(h*g)/this.GetTotalAreaSizeH()-2));SetClip(p,o,r,m)};d.ResetVelocity=function(){this.m_scrollMenu_veloc_X=0;this.m_scrollMenu_veloc_Y=0;this.m_isScrolling=false};d.SetVelocity=function(g,f,h){if(h<=0){h=1}this.m_scrollMenu_veloc_X=g;this.m_scrollMenu_veloc_Y=f;this.m_scrollMenu_veloc_frictionFactor=h};d.Reset=function(){this.m_scrollMenu_offsetX=0;this.m_scrollMenu_offsetY=0;this.m_isScrolling=false;this.m_scrollMenu_veloc_X=0;this.m_scrollMenu_veloc_Y=0};d.ApplyDisplacement=function(k,j){if(this.m_iElementSpacingY==null||this.m_iElementSpacingY.length==0||this.m_iElementSpacingX==null||this.m_iElementSpacingX.length==0){return}var i=0;var h=0;if(!this.m_scrollMenu_locked_X){i=k}if(!this.m_scrollMenu_locked_Y){h=j}this.m_scrollMenu_offsetX+=i;this.m_scrollMenu_offsetY+=h;var f=-1;if(this.m_scrollMenu_direction==c.SCROLL_DIRECTION_VERTICAL){f=-(this.GetTotalAreaSizeH()-this.m_scrollMenu_windowHeight)}else{f=-this.m_iElementSpacingY[0]*(this.m_element_RowLength-1)}if(this.m_scrollMenu_offsetY>0){this.m_scrollMenu_offsetY=0}else{if(this.m_scrollMenu_offsetY<f){this.m_scrollMenu_offsetY=f}}var g=-1;if(this.m_scrollMenu_direction==c.SCROLL_DIRECTION_VERTICAL){g=-this.m_iElementSpacingX[0]*(this.m_element_RowLength-1)}else{g=-(this.GetTotalAreaSizeW()-this.m_scrollMenu_windowWidth)}if(this.m_scrollMenu_offsetX>0){this.m_scrollMenu_offsetX=0}else{if(this.m_scrollMenu_offsetX<g){this.m_scrollMenu_offsetX=g}}};d.GetElementPosX=function(f,k){if(k==e){k=true}var h;var j=0;if(this.GetDirection()==c.SCROLL_DIRECTION_VERTICAL){h=f%this.m_element_RowLength}else{h=LowAPI.Float2Int(f/this.m_element_RowLength)}for(var g=0;g<h;g++){j+=this.m_iElementSpacingX[g]}return(j+(k?this.m_scrollMenu_offsetX:0))};d.GetElementPosY=function(f,k){if(k==e){k=true}var h;var j=0;if(this.GetDirection()==c.SCROLL_DIRECTION_VERTICAL){h=LowAPI.Float2Int(f/this.m_element_RowLength)}else{h=f%this.m_element_RowLength}for(var g=0;g<h;g++){j+=this.m_iElementSpacingY[g]}return(j+(k?this.m_scrollMenu_offsetY:0))};d.GetElementAt=function(q,p){var k=-1;var h=q-this.m_scrollMenu_offsetX;var g=p-this.m_scrollMenu_offsetY;var f=0;var o=h;for(var l=0;l<this.m_element_Counter;l++){if(o<this.m_iElementSpacingX[l]){break}o-=this.m_iElementSpacingX[l];f++}var j=0;var n=g;for(var l=0;l<this.m_element_Counter;l++){if(n<this.m_iElementSpacingY[l]){break}n-=this.m_iElementSpacingY[l];j++}if(this.GetDirection()==c.SCROLL_DIRECTION_VERTICAL){if((h>0)&&(f<this.m_element_RowLength)&&(g>0)&&(j<LowAPI.Float2Int((this.m_element_Counter/this.m_element_RowLength)+1))){var m=j*this.m_element_RowLength+f;if(m>=this.m_element_Counter){k=-1}else{if((o<this.m_iElementWidth[m])&&(n<this.m_iElementHeight[m])){k=m}}}}else{if((h>0)&&(f<LowAPI.Float2Int((this.m_element_Counter/this.m_element_RowLength)+1))&&(g>0)&&(j<this.m_element_RowLength)){var m=f*this.m_element_RowLength+j;if(m>=this.m_element_Counter){k=-1}else{if((o<this.m_iElementWidth[m])&&(n<this.m_iElementHeight[m])){k=m}}}}return k};d.IsScrolling=function(){return this.m_isScrolling};LowAPI.extendObject(a,{cScrollMenu:c,},true)})(window);