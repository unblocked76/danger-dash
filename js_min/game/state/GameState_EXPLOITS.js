(function(H,i){function m(){m.__superclass__.call(this,m.ID,arguments);this.setListenerStateMessage(GameState.MESSAGE_INIT,this.INIT);this.setListenerStateMessage(GameState.MESSAGE_UPDATE,this.UPDATE);this.setListenerStateMessage(GameState.MESSAGE_PAINT,this.PAINT);this.setListenerStateMessage(GameState.MESSAGE_EXIT,this.EXIT)}LowAPI.extendClass(m,GameState);m.ID=GameState.genID();m.prototype.INIT=function(){guiMgr_SetLayerActiveStateAll(false);guiMgr_ResetAllGUILayers();Input_Init();guiMgr_ActivateGUILayer(GUI_LAYER.EXPLOITS,true);StopSound(SOUND_MODE.MUSIC)};m.prototype.UPDATE=function(){guiMgr_processInputAllGuiLayers();guiMgr_updateLayers()};m.prototype.PAINT=function(){guiMgr_PaintGUILayers()};m.prototype.EXIT=function(){guiMgr_ActivateGUILayer(GUI_LAYER.EXPLOITS,false)};m.prototype.MESSAGE_NAV_BACK=function(){E()};function E(){GameState.scheduleSwitchState(GameState_MENUMAIN.ID,true,true);guiMgr_ActivateGUILayer(GUI_LAYER.EXPLOITS,false);playSound(SOUND_TYPE.BACK_SFX,false)}_register_gui_message(GameData.k_gameExploits,G);function G(K,I){if(K==GUI_MESSAGE_INITIALIZE){gui_ResetAllLayerButtonsPressedState();guiMgr_SetLayerInputBlockState(guiMgr_GetGUILayerIndex(guiMgr_iCurrentLayerType),true);guiMgr_SetLayerPaintBlockState(guiMgr_GetGUILayerIndex(guiMgr_iCurrentLayerType),true);SetButtonEnabled(GameData.k_gameExploits,GameData.k_Exploits_btnExploits,false);d();B();j();exploitDistY=GetParamValue(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploitbg_01,GtsData.GUI_POSY)-GetParamValue(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploitbg_00,GtsData.GUI_POSY);q(IExploits.STATE_START);SetButtonVisibility(GameData.k_gameExploits,GameData.k_Exploits_btnAddCoins,false);updateCurrencyHUD();SetParamValue(GameData.k_gameResultExploits2,GameData.k_ResultExploits2_gfx_Character,GtsData.GUI_GRAPHITEM_SPRITEID,DATA.SPRITE_DATA_PORTRAIT_00+s_game_characterIndex)}if(K==GUI_MESSAGE_UPDATE){t();gui_UpdateGameLayerAnims(GameData.k_gameExploits)}if(K==GUI_MESSAGE_AFTER_PAINT){if(s_ExploitsState==IExploits.STATE_REMOVING_EXPLOIT){SetClipFromRectArea(GameData.k_gameExploits,GameData.k_Exploits_R_a_clip);u(pendingExploit,offExploitX,offExploitY);SetClip(0,0,GLLibConfiguration.screenWidth,GLLibConfiguration.screenHeight)}else{if(s_ExploitsState==IExploits.STATE_ADDING_EXPLOIT){SetClipFromRectArea(GameData.k_gameExploits,GameData.k_Exploits_R_a_clip);for(var J=pendingExploit;J<IExploit.MAX_CURRENT_EXPLOITS;J++){u(J,offExploitX,offExploitY)}SetClip(0,0,GLLibConfiguration.screenWidth,GLLibConfiguration.screenHeight)}else{if(s_ExploitsState==IExploits.STATE_END){PaintTextAreaItem(getString(TEXT.MAIN_TEXT_TOUCH_CONTINUE_SHORT,IDefine.INDEX_MAIN),GameData.k_gameExploits,GameData.k_Exploits_Txt_continue)}}}PaintTextAreaItem(getString(TEXT.MAIN_TEXT_TOUCH_CONTINUE_SHORT,IDefine.INDEX_MAIN),GameData.k_gameExploits,GameData.k_Exploits_Txt_continue)}if(K==GUI_MESSAGE_INPUT_EVENT){switch(I){case GameData.k_Exploits_btnExit:E();break;case GameData.k_Exploits_btnAchievements:GameState.scheduleSwitchState(GameState_ACHIEVEMENTS.ID);guiMgr_ActivateGUILayer(GUI_LAYER.EXPLOITS,false);playSound(SOUND_TYPE.SELECT_SFX,false);break;case GameData.k_Exploits_btnStats:GameState.scheduleSwitchState(GameState_STATS.ID,true,true);guiMgr_ActivateGUILayer(GUI_LAYER.EXPLOITS,false);playSound(SOUND_TYPE.SELECT_SFX,false);break;case GameData.k_Exploits_btnAddCoins:guiMgr_ActivateGUILayer(GUI_LAYER.EXPLOITS,false);s_IAP_bChosen=true;IapMgr_Start(s_iCurrentState,false,false);playSound(SOUND_TYPE.SELECT_SFX,false);break;case GameData.k_Exploits_btn_buyExploit_00:s_exploitIndex=0;if(k(s_exploitIndex)){F(s_exploitIndex)}break;case GameData.k_Exploits_btn_buyExploit_01:s_exploitIndex=1;if(k(s_exploitIndex)){F(s_exploitIndex)}break;case GameData.k_Exploits_btn_buyExploit_02:s_exploitIndex=2;if(k(s_exploitIndex)){F(s_exploitIndex)}break}}}function t(){switch(s_ExploitsState){case IExploits.STATE_START:D();break;case IExploits.STATE_END:b();break}}function D(){s_frameCounter++;if(s_frameCounter>=IExploits.TIME_START){h();if(pendingExploit>=0){q(IExploits.STATE_ADDING_FAME)}else{q(IExploits.STATE_END)}}else{}}function b(){}function a(){}function g(){y();j()}function q(I){switch(I){case IExploits.STATE_START:a();break;case IExploits.STATE_END:g();break}s_ExploitsState=I}function h(){pendingExploit=-1;var J=false;for(var I=0;(I<IExploit.MAX_CURRENT_EXPLOITS)&&(!J);I++){if(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]!=s_currentExploits[I][IExploit.EXPLOIT_INDEX]){pendingExploit=I;J=true}}return}function j(){game_CalculateTitle();SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_title,getString(TEXT.MAIN_TITLE_00+s_playerTitle));if(s_playerTitle==(s_arrayTitles.length-1)){SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_bar_amount,getString(TEXT.MAIN_BUTTON_MAX))}else{SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_bar_amount,""+s_playerCurrentFame+"/"+s_nextLevelFame)}for(var I=0;I<IExploit.MAX_CURRENT_EXPLOITS;I++){F(I)}if(c()){SetTextAreaVisibility(GameData.k_gameExploits,GameData.k_Exploits_TextareaItem_No_Exploits_Left,true);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_gfx_bg_00,false);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_gfx_bg_01,false);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_gfx_bg_02,false)}}function c(){var I=true;for(var J=0;J<IExploit.MAX_CURRENT_EXPLOITS;J++){if(s_currentExploitsFake[J][IExploit.EXPLOIT_INDEX]>=0){I=false}}return I}function u(K,J,I){if(s_currentExploitsFake[K][IExploit.EXPLOIT_INDEX]==-1){return}var M=f(s_currentExploitsFake[K][IExploit.EXPLOIT_INDEX],DecodeInt(s_currentExploitsFake[K][IExploit.EXPLOIT_VALUE]));var L=l(s_currentExploitsFake[K][IExploit.EXPLOIT_INDEX]);if(M||L){PaintGraphItem(GameData.k_gameExploits,GameData.k_Exploits_gfx_halo_00+(K*EXP_NUM_ELEMS),J,I)}if(online_isOnlineEnabled()){PaintTextAreaItem(getString(TEXT.MAIN_EXPLOIT_DESC_00+s_currentExploitsFake[K][IExploit.EXPLOIT_INDEX]),GameData.k_gameExploits,GameData.k_Exploits_Txt_exploit_desc_00+(K*EXP_NUM_ELEMS),J,I)}else{PaintTextAreaItem(getString(TEXT.MAIN_EXPLOIT_OFF_DESC_00+s_currentExploitsFake[K][IExploit.EXPLOIT_INDEX]),GameData.k_gameExploits,GameData.k_Exploits_Txt_exploit_desc_00+(K*EXP_NUM_ELEMS),J,I)}PaintGraphItem(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploiticon_00+(K*EXP_NUM_ELEMS),J,I);PaintGraphItem(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploitbg_00+(K*EXP_NUM_ELEMS),J,I);if(!(M||L)){PaintGraphItem(GameData.k_gameExploits,GameData.k_Exploits_gfx_quantity_bg_00+(K*EXP_NUM_ELEMS),J,I);PaintTextAreaItem(""+s_arrayExploits[s_currentExploitsFake[K][IExploit.EXPLOIT_INDEX]][IExploit.EX_FAME],GameData.k_gameExploits,GameData.k_Exploits_Txt_quantity_00+(K*EXP_NUM_ELEMS),J,I)}if(M||L){PaintGraphItem(GameData.k_gameExploits,GameData.k_Exploits_Gfx_check_00+(K*EXP_NUM_ELEMS),J,I)}}function o(I){var J=s_arrayExploits[s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_VALUE_1]-DecodeInt(s_currentExploitsFake[I][IExploit.EXPLOIT_VALUE]);if(J<0){J=-J}return J}function F(I){if(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]<0){SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_gfx_halo_00+(I*EXP_NUM_ELEMS),false);SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_exploit_desc_00+(I*EXP_NUM_ELEMS),"");SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploiticon_00+(I*EXP_NUM_ELEMS),false);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploitbg_00+(I*EXP_NUM_ELEMS),false);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_gfx_quantity_bg_00+(I*EXP_NUM_ELEMS),false);SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_quantity_00+(I*EXP_NUM_ELEMS),"");SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_Gfx_check_00+(I*EXP_NUM_ELEMS),false);SetButtonVisibility(GameData.k_gameExploits,GameData.k_Exploits_btn_buyExploit_00+(I*EXP_NUM_ELEMS),false);SetButtonEnabled(GameData.k_gameExploits,GameData.k_Exploits_btn_buyExploit_00+(I*EXP_NUM_ELEMS),!l(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]));SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_GraphItem_No_Exploits_Left,true)}else{var J=l(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX])||(s_currentExploitsFake[I][IExploit.EXPLOIT_STATUS]==1);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_gfx_halo_00+(I*EXP_NUM_ELEMS),J);if((s_arrayExploits[s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_DURATION]==IExploit.EX_D_SINGLE)||J){exploitStringArg[0]=""+text_GetFormatNumber(s_arrayExploits[s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_VALUE_1]);exploitStringArg[1]=""+text_GetFormatNumber(s_arrayExploits[s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_VALUE_2])}else{if(J){exploitStringArg[0]=""+text_GetFormatNumber(s_arrayExploits[s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_VALUE_1]);exploitStringArg[1]=""+text_GetFormatNumber(s_arrayExploits[s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_VALUE_2])}else{exploitStringArg[0]="\\7"+text_GetFormatNumber(o(I))+"\\4";exploitStringArg[1]="\\7"+text_GetFormatNumber(o(I))+"\\4"}}if(true||online_isOnlineEnabled()){SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_exploit_desc_00+(I*EXP_NUM_ELEMS),getFormattedString(getString(TEXT.MAIN_EXPLOIT_DESC_00+s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]),exploitStringArg,"#"))}else{SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_exploit_desc_00+(I*EXP_NUM_ELEMS),getFormattedString(getString(TEXT.MAIN_EXPLOIT_OFF_DESC_00+s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]),exploitStringArg,"#"))}SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploiticon_00+(I*EXP_NUM_ELEMS),true);SetParamValue(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploiticon_00+(I*EXP_NUM_ELEMS),GtsData.GUI_GRAPHITEM_SPRITEID,z(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]));SetParamValue(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploiticon_00+(I*EXP_NUM_ELEMS),GtsData.GUI_GRAPHITEM_FRAMEID,r(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]));SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_Gfx_exploitbg_00+(I*EXP_NUM_ELEMS),true);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_gfx_quantity_bg_00+(I*EXP_NUM_ELEMS),!J);SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_quantity_00+(I*EXP_NUM_ELEMS),""+s_arrayExploits[s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_FAME]);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_Gfx_check_00+(I*EXP_NUM_ELEMS),J);SetButtonVisibility(GameData.k_gameExploits,GameData.k_Exploits_btn_buyExploit_00+(I*EXP_NUM_ELEMS),(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]>0)&&!J);SetGraphItemVisibility(GameData.k_gameExploits,GameData.k_Exploits_gfx_quantity_bg_00+(I*EXP_NUM_ELEMS),(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]>0)&&!J);var K=s_arrayExploits[s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]][(isPremium()?IExploit.EX_PREMIUM_COST:IExploit.EX_COST)];SetButtonText(GameData.k_gameExploits,GameData.k_Exploits_btn_buyExploit_00+(I*EXP_NUM_ELEMS),(""+text_GetFormatNumber(K)));SetButtonEnabled(GameData.k_gameExploits,GameData.k_Exploits_btn_buyExploit_00+(I*EXP_NUM_ELEMS),!J)}}function k(J){var I=s_currentExploitsFake[J][IExploit.EXPLOIT_INDEX];var L=s_arrayExploits[I][(isPremium()?IExploit.EX_PREMIUM_COST:IExploit.EX_COST)];var K=false;if(DecodeInt(s_systemDiamonds)>=L){K=true;playSound(SOUND_TYPE.BUY_SFX,false);s_systemDiamonds=EncodeInt(DecodeInt(s_systemDiamonds)-L);GameVars_SetRecordValue(RMS_RECORD_CURRENT_DIAMONDS,s_systemDiamonds,false);updateCurrencyHUD();GameVars_SetRecordValue(RMS_RECORD_EXPLOITS+I,3,true);s_currentExploitsFake[J][IExploit.EXPLOIT_STATUS]=1;F(J)}else{upgrades_ShowNotEnough(IAPMGR_DIAMONDS,L)}return K}function l(I){return(GameVars_GetRecordValue(RMS_RECORD_EXPLOITS+I,0)==3)}function n(I){return(GameVars_GetRecordValue(RMS_RECORD_EXPLOITS+I,0)==2)}function w(I){if(GameVars_GetRecordValue(RMS_RECORD_EXPLOITS+I,0)!=2){s_playerFame+=s_arrayExploits[I][IExploit.EX_FAME];GameVars_SetRecordValue(RMS_RECORD_FAME,s_playerFame,false);GameVars_SetRecordValue(RMS_RECORD_EXPLOITS+I,2,true);Achievements_AddAchievementValue(IExploit.EX_T_COMPLETE_EXPLOITS)}}function s(){s_currentExploits[0][IExploit.EXPLOIT_INDEX]=GameVars_GetRecordValue(RMS_RECORD_CURRENT_MISSION_1,-1);s_currentExploits[0][IExploit.EXPLOIT_VALUE]=GameVars_GetRecordValue(RMS_RECORD_CURRENT_MISSION_1_VALUE,0);s_currentExploits[1][IExploit.EXPLOIT_INDEX]=GameVars_GetRecordValue(RMS_RECORD_CURRENT_MISSION_2,-1,0);s_currentExploits[1][IExploit.EXPLOIT_VALUE]=GameVars_GetRecordValue(RMS_RECORD_CURRENT_MISSION_2_VALUE);s_currentExploits[2][IExploit.EXPLOIT_INDEX]=GameVars_GetRecordValue(RMS_RECORD_CURRENT_MISSION_3,-1,0);s_currentExploits[2][IExploit.EXPLOIT_VALUE]=GameVars_GetRecordValue(RMS_RECORD_CURRENT_MISSION_3_VALUE,0)}function z(I){return s_exploitIconsSprites[s_arrayExploits[I][IExploit.EX_TYPE]]}function r(I){return s_exploitIcons[s_arrayExploits[I][IExploit.EX_TYPE]]}function f(J,L){var I=true;for(var K=0;K<IExploit.EX_NUM_CONDITIONS&&I;K++){switch(s_arrayExploits[J][IExploit.EX_CONDITION_1+(2*K)]){case IExploit.COND_NONE:break;case IExploit.COND_LESS_THAN:if(L>=s_arrayExploits[J][IExploit.EX_VALUE_1+(2*K)]){I=false}break;case IExploit.COND_LESS_EQUAL_THAN:if(L>s_arrayExploits[J][IExploit.EX_VALUE_1+(2*K)]){I=false}break;case IExploit.COND_EQUAL_THAN:if(L!=s_arrayExploits[J][IExploit.EX_VALUE_1+(2*K)]){I=false}break;case IExploit.COND_MORE_EQUAL_THAN:if(L<s_arrayExploits[J][IExploit.EX_VALUE_1+(2*K)]){I=false}break;case IExploit.COND_MORE_THAN:if(L<=s_arrayExploits[J][IExploit.EX_VALUE_1+(2*K)]){I=false}break;default:break}}return I}function B(I){if(I==i){I=false}return e(I,false)}function e(I,K){if(arguments.length<2){K=true}if(arguments.length<1){I=false}var M=false;var J=false;for(var L=0;L<IExploit.MAX_CURRENT_EXPLOITS;L++){J=false;if(s_currentExploits[L][IExploit.EXPLOIT_INDEX]>=0||K){s_currentExploitsFake[L][IExploit.EXPLOIT_INDEX]=s_currentExploits[L][IExploit.EXPLOIT_INDEX];s_currentExploitsFake[L][IExploit.EXPLOIT_VALUE]=s_currentExploits[L][IExploit.EXPLOIT_VALUE]}if(s_currentExploits[L][IExploit.EXPLOIT_INDEX]>=0){s_currentExploitsFake[L][IExploit.EXPLOIT_FAME]=s_arrayExploits[s_currentExploits[L][IExploit.EXPLOIT_INDEX]][IExploit.EX_FAME]}else{s_currentExploitsFake[L][IExploit.EXPLOIT_FAME]=0}if(s_currentExploits[L][IExploit.EXPLOIT_INDEX]>=0){if(I){J=l(s_currentExploits[L][IExploit.EXPLOIT_INDEX])}J|=f(s_currentExploits[L][IExploit.EXPLOIT_INDEX],DecodeInt(s_currentExploits[L][IExploit.EXPLOIT_VALUE]));if(J){w(s_currentExploits[L][IExploit.EXPLOIT_INDEX]);s_currentExploits[L][IExploit.EXPLOIT_INDEX]=-1;s_currentExploits[L][IExploit.EXPLOIT_VALUE]=EncodeInt(0);GameVars_SetRecordValue(RMS_RECORD_CURRENT_MISSION_1+(2*L),-1);GameVars_SetRecordValue(RMS_RECORD_CURRENT_MISSION_1_VALUE+(2*L),EncodeInt(0));GameVars_SaveAll();M=true;s_currentExploitsFake[L][IExploit.EXPLOIT_STATUS]=1}else{if(s_arrayExploits[s_currentExploits[L][IExploit.EXPLOIT_INDEX]][IExploit.EX_DURATION]==IExploit.EX_D_SINGLE){s_currentExploits[L][IExploit.EXPLOIT_VALUE]=EncodeInt(s_arrayExploits[s_currentExploits[L][IExploit.EXPLOIT_INDEX]][IExploit.EX_INITIAL_VALUE])}else{}GameVars_SetRecordValue(RMS_RECORD_CURRENT_MISSION_1_VALUE+(2*L),s_currentExploits[L][IExploit.EXPLOIT_VALUE]);GameVars_SaveAll()}}}return M}function y(){var J=-1;var L=false;var I=false;for(var K=0;K<IExploit.MAX_CURRENT_EXPLOITS;K++){L|=A(K)}return L}function x(){for(var I=0;I<IExploit.MAX_CURRENT_EXPLOITS;I++){s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]=s_currentExploits[I][IExploit.EXPLOIT_INDEX];s_currentExploitsFake[I][IExploit.EXPLOIT_VALUE]=s_currentExploits[I][IExploit.EXPLOIT_VALUE];if(s_currentExploits[I][IExploit.EXPLOIT_INDEX]>=0){s_currentExploitsFake[I][IExploit.EXPLOIT_FAME]=s_arrayExploits[s_currentExploits[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_FAME]}else{s_currentExploitsFake[I][IExploit.EXPLOIT_FAME]=0}s_currentExploitsFake[I][IExploit.EXPLOIT_STATUS]=0}}function v(){for(var I=0;I<IExploit.MAX_CURRENT_EXPLOITS;I++){if(s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX]==-1){s_currentExploitsFake[I][IExploit.EXPLOIT_STATUS]=0}else{if(s_currentExploitsFake[I][IExploit.EXPLOIT_STATUS]==0){s_currentExploitsFake[I][IExploit.EXPLOIT_STATUS]=(GameVars_GetRecordValue(RMS_RECORD_EXPLOITS+s_currentExploitsFake[I][IExploit.EXPLOIT_INDEX],0)>1)?1:0}}}}function A(M,J){if(arguments.length<2){J=-1}var L=J;var N=false;var I=false;if(s_currentExploits[M][IExploit.EXPLOIT_INDEX]<0){for(var K=L+1;(K<s_arrayExploits.length)&&(s_currentExploits[M][IExploit.EXPLOIT_INDEX]<0);K++){if(GameVars_GetRecordValue(RMS_RECORD_EXPLOITS+K,0)==0){s_currentExploits[M][IExploit.EXPLOIT_INDEX]=K;s_currentExploits[M][IExploit.EXPLOIT_VALUE]=EncodeInt(s_arrayExploits[K][IExploit.EX_INITIAL_VALUE]);GameVars_SetRecordValue(RMS_RECORD_EXPLOITS+K,1);GameVars_SetRecordValue(RMS_RECORD_CURRENT_MISSION_1+(2*M),K);GameVars_SetRecordValue(RMS_RECORD_CURRENT_MISSION_1_VALUE+(2*M),s_currentExploits[M][IExploit.EXPLOIT_VALUE])}L=K}}return N}function d(){game_CalculateTitle();var I=(s_playerCurrentFame*100/s_nextLevelFame)|0;GUI_SetProgressBarProgress(GameData.k_gameExploits,GameData.k_Exploits_GUI_ProgressBar,I);SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_title,getString(TEXT.MAIN_TITLE_00+s_playerTitle));SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_multiplierValue,"x"+DecodeInt(s_system_scoreMultiplier));if(s_playerTitle==(s_arrayTitles.length-1)){SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_multiplierNextValue,"");GUI_SetProgressBarProgress(GameData.k_gameExploits,GameData.k_Exploits_GUI_ProgressBar,100)}else{SetTextAreaString(GameData.k_gameExploits,GameData.k_Exploits_Txt_multiplierNextValue,"x"+(DecodeInt(s_system_scoreMultiplier)+1))}}function p(){if(n(0)){return true}else{var J=false;for(var I=0;I<s_currentExploits.length;I++){if((s_currentExploits[I][IExploit.EXPLOIT_INDEX]==0)&&(DecodeInt(s_currentExploits[I][IExploit.EXPLOIT_VALUE])>0)){J=true;break}}return J}}function C(){for(var I=0;I<IExploit.MAX_CURRENT_EXPLOITS;I++){if(s_currentExploits[I][IExploit.EXPLOIT_INDEX]>=0){if(s_arrayExploits[s_currentExploits[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_DURATION]==IExploit.EX_D_SINGLE){if(s_currentExploitsFake[I][IExploit.EXPLOIT_STATUS]==0){s_currentExploits[I][IExploit.EXPLOIT_VALUE]=EncodeInt(s_arrayExploits[s_currentExploits[I][IExploit.EXPLOIT_INDEX]][IExploit.EX_INITIAL_VALUE])}}}}}LowAPI.extendObject(H,{GameState_EXPLOITS:m,Exploits_LoadExploits:s,Exploits_updateCurrentExploits:y,Exploits_updateCurrentExploitsFake:x,Exploits_markCurrentExploitsFake:v,Exploits_CompleteExploit:w,Exploits_getIconSprite:z,Exploits_getIcon:r,Exploits_IsTutorialCompleted:p,Exploits_InitGameplay:C,Exploits_checkExploit:f,Exploits_checkExploits:e,Exploits_checkExploitsNotClean:B,Exploits_checkExploitBought:l,Exploits_checkExploitCompleted:n,Exploits_BuyExploit:k,Exploits_NoExploitsLeft:c,Exploits_getExploitPending:o,},true)})(window);